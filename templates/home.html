{% extends "_base.html" %}
{% block title %} Homepage {% endblock %}
{% block head %}
{{ super() }}
<script>
function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('#blah')
                .attr('src', e.target.result)
                .width(200)
                .height(200);
        };

        reader.readAsDataURL(input.files[0]);
    }
}
</script>
{% endblock %}
{% block user %} 


{% if cur_user != None %} {{ cur_user.email() }} {% endif %} <a href="{{ url|safe }}">{{ url_linktext }}</a>
{% endblock %}



{% block content %}
  <div id="parent">
   <div class="left">
      Tags:
      {% for tag in tags %}
         <span><a href='/?tag={{tag.tag_ | safe}}'> {{tag.tag_}}</a></span> 
      {% endfor %}
  </div>
  
  </div>
  <div >
  
    <form action='/upload' id="form-photo" method="post" enctype="multipart/form-data">
        <input type='file'  value="upload photo" name="img" accept="image/*" onchange='readURL(this);' />
        <img id="blah" src="#" alt="your image" /> 
        <div>
        <input type="submit" value="upload this image">
        </div>
    </form>
  </div>
  <div>
  <a href="/showimage" >show uploaded image</a>
  <a href="/ask"> Ask Question </a>
  </div>
  <div>
  <!-- questions=list[entity,..] -->
  {% for q in questions %}
    <p><a href="/view?q={{ q.key.urlsafe() }}">{{ q.content_ | truncate(500, True)}}</a></p> 
  {% endfor %}
  </div>
  

{% endblock %}